# Reach Predictor Step2 Phase 1 최종 완료

## 완료된 작업

### 1. 타이틀 및 필수 표시 추가
- **"분석 대상 매체 설정 *"** 타이틀 추가 (Step1과 동일한 스타일)
- 필수 항목임을 명확히 표시

### 2. 전역 설정 간소화
- **총 예산 제거**: 테이블 하단에서 자동 계산되므로 제거
- **2열 레이아웃**: 캠페인 기간 / 타겟 설정을 나란히 배치
- **간결한 디자인**: 불필요하게 중요해 보이지 않도록 간소화
- **타겟 Chip 표시**: 
  - 24개 선택 시 "전체" 표시
  - 그 외에는 선택된 타겟을 작은 Chip으로 표시
  - 스크롤 가능한 영역에 표시
- **개별 일괄 적용 버튼**: 
  - 캠페인 기간 일괄 적용 버튼
  - 타겟 설정 일괄 적용 버튼
  - 각각 독립적으로 일괄 적용 가능

### 3. 테이블 가로폭 최적화
- **800px 고정**: Step1, Step2, Step3 모두 동일한 가로폭 (800px)
- **1980px 화면 기준**: 좌측 여백 + 800px 입력 섹션 + 구분선 + 420px 서머리 = 약 1400px
- **컬럼 조정**: 9개 컬럼을 800px 내에 최적 배치
  - 아이콘: 40px
  - 매체/상품: 180px
  - 확정 예산: 120px
  - 예상 노출: 120px
  - CPM: 90px
  - 캠페인 기간: 130px
  - 타겟팅: 150px
  - 설정: 70px
  - 삭제: 40px

### 4. 타겟팅 표시 개선
- **Chip 형태**: 선택된 타겟을 작은 Chip으로 표시
- **전체 표시**: 24개 선택 시 "전체" 단일 Chip
- **일부 표시**: 처음 2개만 표시하고 "+n" 형태로 나머지 개수 표시
- **전역 설정**: 개별 설정이 없으면 "전역 설정" 텍스트 표시

### 5. 캠페인 기간 표시 간소화
- **날짜 형식**: YYYY-MM-DD → MM-DD로 간소화 (년도 제거)
- **전역 설정**: 개별 설정이 없으면 "전역 설정" 텍스트 표시

### 6. 타겟팅 설정 다이얼로그 개선
- **Step1과 동일한 UI**: 남성/여성 섹션으로 구분
- **4열 그리드**: 타겟 선택을 4열 그리드로 표시
- **전체 선택/해제**: 남성/여성 각각 전체 선택/해제 버튼
- **체크박스 UI**: 선택된 항목은 primary 색상으로 강조
- **현재 선택 표시**: 다이얼로그 하단에 "확인 (n개 선택)" 표시

## 파일 변경 사항

### 수정된 파일
1. **src/components/scenario/ScenarioStep2ReachPredictor.tsx**
   - 타이틀 및 필수 표시 추가
   - 전역 설정 간소화 (2열 레이아웃)
   - 총 예산 제거
   - 타겟 Chip 표시 구현
   - 개별 일괄 적용 버튼 추가
   - 테이블 가로폭 800px로 조정
   - 타겟팅 다이얼로그 Step1과 동일하게 개선
   - targetGrpOptions import 추가

2. **src/components/CreateScenario.tsx**
   - totalBudget prop 제거
   - onUpdateGlobalSettings에서 totalBudget 처리 제거

## 레이아웃 구조

```
┌─────────────────────────────────────────────────────────────────┐
│  새 시나리오 생성                                                │
│  단계별로 시나리오 정보를 입력하고 분석을 시작하세요              │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  [Step 1] → [Step 2] → [Step 3]                                 │
│                                                                   │
│  ┌─────────────────────────┐  │  ┌──────────────────┐          │
│  │                         │  │  │                  │          │
│  │  입력 섹션 (800px)      │  │  │  서머리 (420px)  │          │
│  │                         │  │  │                  │          │
│  │  - 타이틀               │  │  │  Configuration   │          │
│  │  - 전역 설정 (간소화)   │  │  │  Summary         │          │
│  │  - 매체 추가 버튼       │  │  │                  │          │
│  │  - 매체 테이블          │  │  │  Step 1 정보     │          │
│  │                         │  │  │  Step 2 정보     │          │
│  │                         │  │  │  Step 3 정보     │          │
│  │                         │  │  │                  │          │
│  └─────────────────────────┘  │  └──────────────────┘          │
│                                                                   │
│  [취소]                                    [이전]  [다음]        │
└─────────────────────────────────────────────────────────────────┘

총 가로폭: ~1400px (1980px 화면에 여유있게 배치)
```

## 전역 설정 레이아웃

```
┌─────────────────────────────────────────────────────────────┐
│  캠페인 기간                    │  타겟 설정 (n개)           │
│  [일괄 적용]                    │  [일괄 적용]               │
│  ┌──────┐ ~ ┌──────┐           │  ┌──────────────────────┐ │
│  │ 시작 │   │ 종료 │           │  │ [Chip] [Chip] [Chip] │ │
│  └──────┘   └──────┘           │  │ [Chip] [Chip] ...    │ │
│                                 │  └──────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 매체 테이블 컬럼 구조

| 아이콘 | 매체/상품 | 확정예산 | 예상노출 | CPM | 캠페인기간 | 타겟팅 | 설정 | 삭제 |
|--------|----------|---------|---------|-----|-----------|--------|------|------|
| 40px   | 180px    | 120px   | 120px   | 90px| 130px     | 150px  | 70px | 40px |

총 가로폭: 940px (스크롤 없이 800px 컨테이너에 맞춤)

## 다음 단계 (Phase 2)

### 리치커브 설정
- 리치커브 설정 컴포넌트 개발
- 컴포넌트 분리 작업

## 기술적 개선 사항

### 성능
- 불필요한 state 제거 (showGlobalSettings)
- 컴포넌트 최적화

### UX
- 전역 설정과 개별 설정의 명확한 구분
- 일괄 적용 버튼으로 편의성 향상
- Chip 형태로 타겟 정보 가독성 향상
- 날짜 형식 간소화로 공간 절약
- Step1과 일관된 타겟 선택 UI

### 코드 품질
- TypeScript 타입 안정성 확보
- 중복 코드 제거
- 명확한 컴포넌트 구조
- 사용하지 않는 props 제거

## 테스트 체크리스트

- [x] TypeScript 컴파일 에러 없음
- [ ] 전역 설정 수정 기능 동작 확인
- [ ] 캠페인 기간 일괄 적용 버튼 동작
- [ ] 타겟 설정 일괄 적용 버튼 동작
- [ ] 개별 기간 설정 다이얼로그 동작 확인
- [ ] 개별 타겟팅 설정 다이얼로그 동작 확인 (Step1과 동일한 UI)
- [ ] 타겟 Chip 표시 확인 (전체/일부)
- [ ] 매체 선택 다이얼로그 검색 기능
- [ ] 검색 결과 전체 선택 기능
- [ ] +/- 버튼으로 매체 접기/펼치기
- [ ] 유효성 검사 동작 확인
- [ ] Step 간 데이터 전달 확인
- [ ] 1980px 화면에서 레이아웃 확인
- [ ] Step1, Step2, Step3 가로폭 일관성 확인
