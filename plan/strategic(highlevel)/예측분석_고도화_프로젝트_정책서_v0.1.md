# 예측/분석 고도화 프로젝트 (Phase1)

---

## 문서 이력

| 날짜 | 수정자 | 수정 내용 | 사유 | VER. |
|---|---|---|---|---|
| 2026. 1. 23 | 신지아 | 초안 작성 | - | 0.1 |
| 2026. 2. 02 | 신지아 | 내용 업데이트 | - | 0.2 |

---

📢 본 정책서는 예측/분석 고도화(Phase1) 프로젝트를 통해 구축하는  
**&quot;예측/분석 플랫폼(가칭)&quot;과 Reach Caster 솔루션의 운영 원칙, 사용자 권한, 처리 방식, 서비스 품질 보장** 등을 위한 가이드라인을 정의합니다.

- 현재 버전: v0.2
- 관리자: 신지아

---

# 1. 예측/분석 플랫폼(가칭)

참고: 01. 예측/분석 고도화 PRD

## 1.1 정의

예측/분석 플랫폼은 Reach Caster, Budget Optimizer와 같은 다양한 예측/분석 솔루션을 제공하는 통합 시스템임  
이 플랫폼은 미디어 플래닝, 광고 효과 예측 등의 솔루션을 하나의 통합된 환경에서 제공하여, 사용자가 다양한 시나리오를 효율적으로 관리하고 실행할 수 있도록 하는 것을 목적으로함

---

## 1.2 구조

### 1.2.1 진입 플로우

- adly 메인 로그인: 사용자가 adly 메인에 로그인  
- 예측/분석 플랫폼 선택: adly 메인 내에서 예측/분석 플랫폼 메뉴 선택  
- 권한 확인 및 진입: 사용자 솔루션 접근 권한 확인 후 예측/분석 플랫폼 워크스페이스로 진입  
- 워크스페이스 표시: 사용자 역할에 따라 접근 가능한 폴더 목록 표시  
- 폴더 선택: 작업할 폴더 선택  
- 시나리오 생성: 새 시나리오 생성 또는 기존 시나리오 조회  

### 1.2.2 플랫폼 구조 (계층)

adly main(entry)에서 예측/분석 솔루션 선택 
> workspace 진입 > 폴더 선택 
> 솔루션 메뉴 (Reach Caster, Budget Optimizer, Benchmark) 중 Reach Caster 선택 
> 시나리오 (타입 2종: Ratio Finder, Reach Predictor)

---

## 1.3 사용자

### 1.3.1 사용자 역할

| 구분 | 역할 | 대상 사용자 | 데이터 접근 정책 (adly 메인 연동) |
|---|---|---|---|
| 내부 | 관리자(Admin) | 솔루션 관리자 | 플랫폼 내 존재하는 모든 광고주 폴더 |
| 내부 | 운영자(Marketer) | 마케터 | adly 메인에서 할당된 광고주 폴더 |
| 외부 | 대행사(Agency) | 대행사의 광고주 담당자 | adly 메인에서 할당된 광고주 폴더 |
| 외부 | 광고주(Client) | 광고주 | adly 메인에서 할당된 본인(광고주 기업) 광고주 폴더 |

---

### 1.3.2 역할별 권한 매트릭스

#### 폴더 관리

| 기능 | 관리자(Admin) | 운영자(Marketer) | 대행사(Agency) | 광고주(Client) |
|---|---|---|---|---|
| Create (C) | O | O | X | X |
| Read (R) | O | O | O (할당 폴더) | O (할당 폴더) |
| Update (U) | O | O | X | X |
| Delete (D) | O | O | X | X |
| Copy | O | O | X | X |

#### 시나리오 관리

| 기능 | 관리자(Admin) | 운영자(Marketer) | 대행사(Agency) | 광고주(Client) |
|---|---|---|---|---|
| Create (C) | O | O | X | X |
| Read (R) | O | O | O | O |
| Update (U) | X | X | X | X |
| Delete (D) | O | O | X | X |
| Copy | O | O | X | X |
| Move | O | O | X | X |
| Export | O | O | O | O |
| Compare | O | O | O | O |

#### AnXer 챗봇

| 기능 | 관리자(Admin) | 운영자(Marketer) | 대행사(Agency) | 광고주(Client) |
|---|---|---|---|---|
| 챗봇 사용 (해당 위치) | O | O | O | O |


---

# 2. 워크스페이스와 폴더

## 2.1 정의

### 2.1.1 워크스페이스

예측/분석 플랫폼의 메인 대시보드  
사용자 역할과 데이터 접근 권한에 따라 접근 가능한 폴더들의 목록을 표시함

### 2.1.2 폴더

예측/분석 플랫폼의 권한 제어와 시나리오 관리의 기본 단위  
각 폴더는 1개의 광고주에 맵핑되어 데이터 격리를 보장함  
가시성 설정을 통해 역할별 세분화된 접근 권한을 제공함  
여러개의 시나리오를 생성하고 관리할 수 있음  
비즈니스 목적이나 캠페인과 관련된 분석 작업을 체계적으로 조직화할 수 있음

---

### 2.1.3 폴더 목록 관리 기능

| 기능 | 상세 |
|---|---|
| 정렬(Sorting) | 생성일, 수정일, 광고주 기준 오름차순/내림차순 정렬 |
| 필터링(Filtering) | 광고주별, 가시성 설정별, 생성자별, 기간별 조건부 필터링 |
| 검색(Search) | 폴더명, 광고주명, 캠페인명 기반 부분 일치 검색 및 인스턴트 검색 |
| 뷰 모드 (View Mode) | 그리드 뷰 |
| 페이지네이션(Pagination) | 페이지별 인스턴스 표시 및 페이지 크기 선택 가능 |

---

## 2.2 폴더 생성 및 관리

### 2.2.1 폴더 주요 속성 정의

| 구분 | 속성명 | 필수 여부 | 설명 | 표시 형식 예시 |
|---|---|---|---|---|
| 식별자 | 폴더 ID | 필수 | 폴더 PK, 자동 증분 | 1 |
| 기본 정보 | 폴더명 | 필수 | 폴더를 설명할 수 있는 고유한 이름 | 폴더명입니다 |
|  | 설명 | 선택 | 폴더에 대한 상세 설명 | 2026년 하이츄 캠페인 시나리오 |
| 권한 설정 | 광고주ID | 필수 | 데이터 접근 통제를 위한 광고주 연결 key (adly 메인에서 관리하는 광고주 체계) | 🚩adly 계정 정책 확인 필요 |
|  | 광고주 | 자동 | 사용자 대상 표시를 위한 광고주명 정보 |  |
| 가시성 설정 |  | 필수 | Private / Internal / Shared |  |
| 공유 대상 |  | 조건부 필수 | Shared인 경우, Agency / Client 선택 |  |
| 메타데이터 | 생성자 | 필수 | 폴더를 생성한 사용자 정보 | 🚩adly 계정 정책 확인 필요 |
|  | 생성일시 | 필수 | 폴더 생성 시점 | yyyy-mm-dd hh:mm:ss |
|  | 최종 수정자 | 필수 | 마지막 폴더를 수정한 수정자 정보 | 🚩adly 계정 정책 확인 필요 |
|  | 수정일시 | 필수 | 마지막 폴더 수정 시점 | yyyy-mm-dd hh:mm:ss |

---

## 2.3 폴더 기반 권한 관리

### 2.3.1 폴더 가시성 설정

| 옵션 | 설명 | 관리자(Admin) | 운영자(Marketer) | *운영자 &gt; 폴더 생성자 | 대행사(Agency) | 광고주(Client) |
|---|---|---|---|---|---|---|
| Private | 폴더 생성자와 관리자만 접근 가능한 설정 | O | X | O | X | X |
| Internal | 운영자와 폴더 관리자만 접근 가능한 설정 | O | O | O | X | X |
| Shared | 광고주 또는 대행사에 공유된 상태 (광고주와 대행사 복수 선택 가능) | O | O | O | O (선택 시) | O (선택 시) |

폴더 가시성 설정은 폴더 생성 후에도 수정할 수 있음

---

## 2.4 데이터 보안 및 격리 정책

- 광고주별 데이터 격리: 각 광고주의 데이터는 완전히 분리되어 관리  
- 폴더 가시성 설정에 따른 접근: 폴더별 정의된 가시성 설정에 따라 접근이 제어됨  

---

# 3. Reach Caster

## 3.1 정의 (TO-BE)

Reach Caster는 방송 광고와 디지털 광고 매체의 데이터를 통합하여 최적의 예산 배분안을 도출하고 도달 성능을 예측하는 솔루션

## 3.2 분석 모듈

| 모듈명 | 구분 | 정의 | 작동 원리 |
|---|---|---|---|
| Ratio Finder | 신규 | TVC/Digital 매체 전략 탐색 목적 | 총 예산 내에서 TVC와 Digital 간 최적 도달률을 구현하는 예산 배분 비율을 탐색하는 모듈 |
| Reach Predictor | 고도화 | 도달 예측 목적 | 매체/상품별 확정 예산을 기반으로 통합 및 개별 매체 도달률을 예측 |

---

## 3.3 데이터 소스 및 처리

### 3.3.1 수급 및 보관

| 데이터 | 수급 | 보관 |
|---|---|---|
| 방송 광고 데이터 | ENM CIM API 호출 (참고: 04. CIM API 개발 요청) | Response 그대로 보관 |
| 디지털 광고 데이터 | BRIDGE 원천 데이터로 모델 업데이트 월 1회 | - |
| 시나리오 설정 및 결과 데이터 | 사용자 입력 및 모델 실행 | 사용자 삭제 요청 시 |
| 비교 결과 데이터 | 시나리오 결과 데이터 | 별도 저장 X |

---

### 3.3.2 처리

- 방식: 비동기 처리 (Ratio Finder, Reach Predictor 둘 다 해당)  
- 상태 관리: 요청(시나리오 생성 요청) 후 사용자 리스트에서 분석 진행 상태 확인 가능하며, 완료 후 결과를 활성화함  
- 상세 상태 값은 하기 **[4. 시나리오]** 에서 정의  

### 3.3.3 정합과 품질 관리

🥕데싸분들과 협의

---

# 4. 시나리오

## 4.1 정의

시나리오는 Reach Caster 내에서 분석 및 성과 예측이 실행되는 최소 실행 단위

## 4.1.1 시나리오 관리 기능

| 기능 | 정의 |
|---|---|
| Create (C) | 폴더 내에서 신규 시뮬레이션 또는 예측 시나리오를 생성 |
| Read (R) | 실행이 완료된 시나리오의 결과 리포트 및 상세 설정 정보를 확인함 |
| Update (U) | ※ 미제공 기능 |
| Delete (D) | 불필요한 시나리오를 제거, 삭제된 시나리오는 복구할 수 없음 |
| Copy | 기존 시나리오의 설정 그대로를 복사하여 새로운 시나리오 생성 값으로 적용 |
| Move | 시나리오를 동일 광고주 내 다른 프로젝트 폴더로 위치 변경 |
| Export | 시나리오 결과 데이터를 pdf, csv 형식으로 내보내기 |

## 4.1.2 시나리오 운영 원칙

- 독립성: 각 시나리오는 고유한 ID를 가짐  
- 상속성: 특정 모듈의 분석 결과값은 다른 모듈의 입력값으로 상속되어 연속적인 분석 흐름을 지원함  
  - 동일 폴더 내에서만 상속 가능함  
- 불변성: 실행이 완료된 시나리오의 결과 데이터는 수정이 불가함

## 4.2 시나리오 속성 정의

### 4.2.1 공통 속성

| 구분 | 속성명 | 필수 여부 | 설명 |
|---|---|---|---|
| 식별자 | 시나리오 ID | 필수 | 시나리오 PK, 자동 증분 |
| 기본 정보 | 시나리오명 | 필수 | 사용자가 입력한 분석 단위 식별 명칭 |
|  | 설명 | 선택 | 시나리오에 대한 부연 설명 |
| 시나리오 타입 |  | 필수 | 분석 모듈 구분 (Ratio Finder, Reach Predictor) |
| 브랜드 설정 | 브랜드 | 필수 | 캠페인 연결 (DSS 데이터 연동 - 폴더의 광고주 하위 브랜드들) |
| 업종 |  | 필수 | 위 브랜드에서 확인한 업종 |
| 기간 |  | 필수 |  |
| 분석 파라미터 | 타겟 GRP | 필수 | 도달률 산출 위한 기준 모수 |
| 상태 | 처리 상태 | 필수 | 대기중 / 처리중 / 완료 / 오류 / 취소 (🥕취소 제공 여부 고민) |
| 진행률 |  | 필수 | 실행 서버로부터 수신하는 실시간 진행 % |
| 상세 상태 메시지 |  | 조건부 필수 | 실행 오류 시 발생하는 구체적인 에러 코드 및 사유 |
| 메타데이터 | 생성자 | 필수 | 시나리오를 생성한 사용자 정보 |
|  | 생성일시 | 필수 | 시나리오 생성 시점 (=실행 요청) |
|  | 실행일시 | 필수 | 시나리오 생성 완료 시점 (=실행 완료) |

### 4.2.2 모듈별 특화 속성

#### Ratio Finder

| 구분 | 속성명 | 필수 여부 | 설명 |
|---|---|---|---|
| 예산 설정 | 총 예산 | 필수 | 시뮬레이션의 기준이 되는 전체 집행 예산 |
| 매체 설정 | 예산 분배 비중 | 필수 | 매체/채널/상품별 배분 비율 (계층별 합계 100% 필수) |
| 분석 설정 | 시뮬레이션 단위 | 필수 | 비중 변화 시뮬레이션 해상도 (5%, 10%, 20%) |

#### Reach Predictor

| 구분 | 속성명 | 필수 여부 | 설명 |
|---|---|---|---|
| 예산 설정 | 매체별 예산 | 필수 | 매체/채널/상품별 직접 입력된 확정 광고비 |
| 매체 설정 | 타겟팅 설정 | 선택 | 매체 및 상품별 개별 타겟팅 옵션 |
| 분석 설정 | 리치커브 예산 상한 | 필수 | 커브 생성을 위한 예산 최대값 |
|  | 리치커브 증분 단위 | 선택 | 커브 생성 시 증분 단위 구간 |

## 4.3 시나리오 상태와 비동기 프로세스

### 4.3.1 상태

상태 추적 실시간 = 변경 시 반영 (화면 리프레시 여부와 무관)

| 상태 | 설명 | 요청 가능한 유관 작업 |
|---|---|---|
| 대기중 (Pending) | 생성 요청 후 모델 실행 대기 상태 | 취소 |
| 처리중 (Processing) | 비동기 모델 실행 중 | 취소 |
| 완료 (Completed) | 모델 실행 완료 및 결과 사용 가능 상태 | - |
| 오류 (Error) | 모델 실행 실패 또는 오류 발생 상태 | 재시도 |
| 취소 (Cancelled) | 사용자의 의해 모델 실행이 취소된 상태 | - |

### 4.3.2 프로세스

모든 시나리오 생성 요청은 비동기 방식으로 처리되며, 다음 단계를 기초로 함

- 생성 요청: 사용자가 생성 버튼 클릭 시 즉시 시나리오 목록에 노출되며 초기 상태는 `대기중(Pending)`  
- 실행 처리: 모델 실행이 시작되면 `처리중(Processing)` 상태로 변경되며, 실시간 진행률을 표시  
- 결과 완료: 실행 성공 시 `완료(Completed)` 상태로 전환되며 결과 화면으로 이동할 수 있도록 활성화됨  
- 오류 관리: 실패 시 `오류(Error)` 상태로 변경되며 상세 사유 확인 및 재시도 가능  
- 취소: 실행 진행 중 사용자 요청에 의한 취소  

## 4.4 시나리오 생성 진입 프로세스

- 폴더 선택: 워크스페이스에서 작업할 폴더 선택  
- 시나리오 생성 버튼 클릭: 폴더 내 시나리오 생성 버튼  
- 하위 메뉴 선택: Reach Caster 선택 (향후 Budget Optimizer 추가 예정)  
- 시나리오 생성 화면 진입  

## 4.5 시나리오 이동 정책

### 4.5.1 시나리오 이동 기능

- 목적: 시나리오를 다른 프로젝트 폴더로 이동시켜 관리 효율성 향상  
- 이동 권한: 관리자 및 운영자만 시나리오 이동 기능 사용 가능  
- 외부 사용자(광고주, 대행사) 제한  

### 4.5.2 이동 제약 조건

- 동일 광고주 제약: 시나리오는 동일한 광고주 ID를 가진 폴더로만 이동 가능함  
- 광고주별 데이터 격리 원칙에 따라 다른 광고주 폴더로의 이동을 차단함  
- 권한 상속: 이동된 시나리오는 대상 폴더의 가시성 설정을 자동으로 상속 받음  

### 4.5.3 이동 프로세스

1. 이동 대상 시나리오 선택  
2. 대상 폴더 선택  
3. 이동 확인  
4. 이동 실행  

## 4.6 시나리오 비교 정책 

### 4.6.1 시나리오 비교 기능 

- 목적: 복수의 시나리오의 결과를 동일 선상에서 대조할 수 있도록 한 화면에서 제공  
- 비교 대상: 동일 폴더 내에 존재하는 완료(Completed) 상태의 시나리오  
- 최대 선택 수: 한 화면에서 비교 가능한 시나리오는 최대 n개로 제한함 🚩상세 때 확정  

### 4.6.2 비교 제약 조건 및 규칙

- 동일 타입 원칙: Ratio Finder는 Ratio Finder끼리, Reach Predictor는 Reach Predictor끼리만 비교 가능  
- 다른 타입 동시 선택 시 비교 화면 진입 차단 또는 안내 메시지 제공 🚩상세 때 확정  
- 설정 정합성 체크: 🚩상세 때 확정  
- 상태 필터링: 실행 중/오류/취소 상태 시나리오는 비교 생성 시 안내 메시지 제공  

### 4.6.3 타입별 비교 뷰 구성

| 구분 | Ratio Finder | Reach Predictor |
|---|---|---|
| 핵심 지표 비교 | 🚩상세 때 확정 | 🚩상세 때 확정 |
| 시각화 요소 |  |  |

### 4.6.4 데이터 보존 정책

- 비저장 원칙: 비교 화면 자체에 대한 고유 ID 생성이나 DB 저장은 수행하지 않음  
- 화면 이탈 시 비교 조합 정보 즉시 파기  
- 결과 추출: 필요 시 리포트 추출 기능을 통해 정적 문서 형태로 저장 가능  

### 4.6.5 시나리오 다운로드 (Export) 정책

#### 4.6.5.1 시나리오 상세 결과 다운로드

- **제공 형식**: PDF, CSV
- **PDF**: 시나리오 전체 결과 리포트 (차트, 표, 설정 정보 포함)
- **CSV**: 주요 수치 데이터 (매체별 도달률, 예산 배분 등)
- **접근 권한**: 해당 시나리오에 접근 가능한 모든 사용자

#### 4.6.5.2 시나리오 비교 결과 다운로드

- **제공 형식**: CSV
- **CSV**: 비교 대상 시나리오들의 주요 지표 비교 데이터
- **접근 권한**: 비교 대상 모든 시나리오에 접근 가능한 사용자

#### 4.6.5.3 내보내기 이력 관리

- **이력 저장 안 함**: 시나리오 다운로드 및 내보내기 이력은 별도로 저장하지 않음
- **실시간 처리**: 사용자 요청 시 즉시 파일 생성 후 다운로드 제공
- **임시 파일 관리**: 생성된 파일은 다운로드 완료 후 서버에서 자동 삭제

#### 4.6.5.4 상세 결과 파일 정의

- **상세 기획 시 링크 연결 예정**: 결과 파일의 구체적인 구성 요소 및 데이터 형식은 상세 기획 단계에서 정의  

---

# 5. AnXer 챗봇

## 5.1 서비스 레벨

- 시나리오 상세 결과 뷰: 단일 시나리오 결과에 대한 질의응답  
- 시나리오 비교 뷰: 선택된 복수 시나리오 결과에 대한 질의응답  

## 5.2 인터페이스 및 사용 방식

- 플로팅 인터페이스: 상세 결과 화면 우측 하단 플로팅 액션 버튼  
- 채팅 기반 UI: 전용 채팅 UI 확장, 자연어 기반 질의응답  

## 5.3 분석 및 응답 원칙

### 데이터 근거 답변

| 서비스 레벨 | 참조 데이터 |
|---|---|
| 시나리오 상세 결과 뷰 | 해당 시나리오 결과 데이터 |
| 시나리오 비교 뷰 | 선택한 시나리오 결과 데이터 |

- 근거 자료 제시: 관련 수치 및 계산 근거 함께 제공  
- 자연어 확장: 사용자는 자연어 질문을 통해 심층 분석 가능  

## 5.4 프롬프트 증강

🚩 상세 때 업데이트  
🥕 아이디어 수준에서 기술 협의 필요  

## 5.5 채팅 이력 관리

### 시나리오 단일 뷰

🚩 영향도에 대한 기술 협의

#### if 무조건 저장

- 이력 귀속: 채팅 이력은 유저 개인이 아닌 **시나리오 단위**로 저장  
- 해당 시나리오 권한 보유 유저 간 공유 가능  
- 유 단위 저장도 고려 가능  

#### if 수동으로 저장

- 기본 미저장  
- 중요 답변만 `인사이트 노트` 형태로 시나리오 메타데이터에 저장  

### 시나리오 비교 뷰

- 비교 뷰 분석: 선택된 복수 시나리오 비교 데이터를 세션 메모리에 로드하여 수행  
- 동기화 규칙: 비교 대상 시나리오 중 하나라도 삭제 또는 이동 시 비교 세션 및 챗봇 대화 즉시 종료  

---

# 6. 시스템 운영 정책

## 6.1 비동기 시뮬레이션 및 상태 업데이트

- 비동기 처리 원칙: 모델 실행은 비동기를 원칙으로 함  
- 상태 모니터링: 시나리오 리스트 뷰에서 `대기중`, `처리중` 상태 실시간 확인 가능  
- 알림: 할까말까.. 굳이  

## 6.2 시스템 성능 및 가용성

- 응답 속도: n분 이내  
- 동시 사용자: nnn명  
- 데이터 처리량: 시간당 nnn개 시나리오 생성 처리 가능  
- 가용성 보장: 24시간 운영, 점검 시 사전 공지 원칙  
- 백업 정책  

## 6.3 데이터 품질과 정확성

## 6.4 정책 관리 및 업데이트

### 6.4.1 정책 관리

- 정기 검토: 분기별 정책 적정성 검토 진행  

### 6.4.2 버전 관리

#### 버전 체계

| 구분 | 정의 | 예시 |
|---|---|---|
| Major (X.0.0) | 대규모 업데이트 | 핵심 로직 전면 개편 / 비호환 변경 / 신규 하위 모듈 추가 |
| Minor (0.X.0) | 기능 개선 및 추가 | 기능 추가, UI/UX 개선, 호환 유지 로직 최적화 |
| Patch (0.0.X) | 버그 수정 및 최적 | 버그 수정, 정합성 보완, 성능/보안 패치 |

#### 버전 관리 단위 🥕

- 플랫폼 단위 관리: Reach Caster 포함 예측/분석 플랫폼 통합 버전 기준 관리

#### 버전 이력 고지 (Release Note)

- 고지 방식: 플랫폼 내 전용 페이지 공개  
- 고지 내용:
  - Version Number  
  - Release Date  
  - Update Highlights  
  - Impact  

---

# 핵심 용어 정의

| 용어 | 정의 |
|---|---|
|  |  |
|  |  |
|  |  |