# Reach Predictor Step2 Phase 1 개선 완료

## 완료된 작업

### 1. 전역 설정 섹션 추가
- **Step 1 정보 표시**: 총 예산, 타겟 설정, 캠페인 기간을 Step2 상단에 표시
- **수정 가능**: 접기/펼치기 기능으로 전역 설정 수정 가능
- **일괄 적용**: "전역 설정을 모든 매체에 일괄 적용" 버튼으로 개별 설정 초기화

### 2. 매체 테이블 UI 개선
- **가로 폭 확장**: 800px → 100% (최대 1400px)로 확장하여 더 많은 정보 표시
- **카테고리 아이콘**: DIGITAL 뱃지를 Monitor/Tv 아이콘으로 변경 (더 간결)
- **작은 뱃지**: 매체명 옆에 작은 카테고리 뱃지 추가
- **새 컬럼 추가**:
  - 캠페인 기간 컬럼: 개별 설정 또는 "전역 설정 사용" 표시
  - 타겟팅 컬럼: 개별 설정 또는 "전역 설정 사용" 표시
- **개별 설정 버튼**: Calendar/Users 아이콘 버튼으로 각 행의 기간/타겟 개별 설정
- **설정 상태 표시**: 개별 설정이 있는 경우 버튼 배경색 변경

### 3. 매체 선택 다이얼로그 개선
- **테이블 형태**: 아코디언 → 테이블 형태로 변경
- **+/- 버튼**: 매체를 접었다 펼칠 수 있는 버튼 추가
- **고정 크기**: 1000px × 700px로 다이얼로그 크기 고정
- **TVC 상단 배치**: TV 매체를 DIGITAL보다 위에 배치하여 인지성 개선
- **검색 결과 전체 선택**: 각 카테고리별 "검색 결과 전체 선택" 버튼 추가
- **선택 카운트**: 각 매체 행에 선택된 상품 개수 표시
- **3열 그리드**: 상품 선택을 3열 그리드로 표시 (기존 2열에서 개선)

### 4. 개별 설정 다이얼로그
- **기간 설정 다이얼로그**: 각 매체별 캠페인 기간 개별 설정
- **타겟팅 설정 다이얼로그**: 각 매체별 타겟 그룹 개별 설정
- **기본값 사용**: 개별 설정이 없으면 전역 설정 자동 사용

### 5. 유효성 검사 개선
- Reach Predictor 모듈의 Step2 유효성 검사 추가:
  - 최소 1개 이상의 매체 선택
  - 모든 매체에 예산 입력 필수
  - 미연동 매체는 노출 수 필수

## 파일 변경 사항

### 수정된 파일
1. **src/components/scenario/ScenarioStep2ReachPredictor.tsx**
   - 전역 설정 섹션 추가
   - 테이블 레이아웃 확장 (9개 컬럼)
   - 개별 기간/타겟 설정 기능 추가
   - 다이얼로그 UI 추가

2. **src/components/scenario/ReachPredictorMediaDialog.tsx**
   - 테이블 형태로 완전 재작성
   - TVC 섹션을 상단으로 이동
   - +/- 버튼으로 접기/펼치기
   - 고정 크기 (1000px × 700px)
   - 검색 결과 전체 선택 기능

3. **src/components/CreateScenario.tsx**
   - ScenarioStep2ReachPredictor에 props 전달
   - Reach Predictor 유효성 검사 추가
   - 전역 설정 업데이트 핸들러 추가

4. **src/components/scenario/types.ts**
   - ReachPredictorMedia에 customPeriod, customTarget 필드 추가

## 다음 단계 (Phase 2)

### 2. 리치커브 설정
- 리치커브 설정 컴포넌트 개발
- 컴포넌트 분리 작업

## 기술적 개선 사항

### 성능
- 컴포넌트 분리로 재사용성 향상
- 불필요한 리렌더링 최소화

### UX
- 전역 설정과 개별 설정의 명확한 구분
- 시각적 피드백 (설정 상태 표시)
- 고정 크기 다이얼로그로 안정적인 UX

### 코드 품질
- TypeScript 타입 안정성 확보
- 중복 코드 제거
- 명확한 컴포넌트 구조

## 테스트 체크리스트

- [x] TypeScript 컴파일 에러 없음
- [ ] 전역 설정 수정 기능 동작 확인
- [ ] 개별 기간 설정 다이얼로그 동작 확인
- [ ] 개별 타겟팅 설정 다이얼로그 동작 확인
- [ ] 매체 선택 다이얼로그 검색 기능
- [ ] 검색 결과 전체 선택 기능
- [ ] +/- 버튼으로 매체 접기/펼치기
- [ ] 유효성 검사 동작 확인
- [ ] Step 간 데이터 전달 확인
